{"remainingRequest":"/home/ubuntu/4chatting/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--8-1!/home/ubuntu/4chatting/node_modules/@swimlane/ngx-charts/release/pie-chart/pie-chart.component.js","dependencies":[{"path":"/home/ubuntu/4chatting/node_modules/@swimlane/ngx-charts/release/pie-chart/pie-chart.component.js","mtime":1507803109000},{"path":"/home/ubuntu/4chatting/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/ubuntu/4chatting/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1528256844000}],"contextDependencies":[],"result":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b)\n            if (b.hasOwnProperty(p))\n                d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Component, Input, Output, ViewEncapsulation, EventEmitter, ChangeDetectionStrategy, ContentChild } from '@angular/core';\nimport { calculateViewDimensions } from '../common/view-dimensions.helper';\nimport { ColorHelper } from '../common/color.helper';\nimport { BaseChartComponent } from '../common/base-chart.component';\nvar PieChartComponent = /** @class */ /*@__PURE__*/ (function (_super) {\n    __extends(PieChartComponent, _super);\n    function PieChartComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.labels = false;\n        _this.legend = false;\n        _this.legendTitle = 'Legend';\n        _this.explodeSlices = false;\n        _this.doughnut = false;\n        _this.arcWidth = 0.25;\n        _this.activeEntries = [];\n        _this.tooltipDisabled = false;\n        _this.select = new EventEmitter();\n        _this.activate = new EventEmitter();\n        _this.deactivate = new EventEmitter();\n        _this.margin = [20, 20, 20, 20];\n        return _this;\n    }\n    PieChartComponent.prototype.update = function () {\n        var _this = this;\n        _super.prototype.update.call(this);\n        if (this.labels) {\n            this.margin = [30, 80, 30, 80];\n        }\n        this.dims = calculateViewDimensions({\n            width: this.width,\n            height: this.height,\n            margins: this.margin,\n            showLegend: this.legend,\n        });\n        var xOffset = this.margin[3] + this.dims.width / 2;\n        var yOffset = this.margin[0] + this.dims.height / 2;\n        this.translation = \"translate(\" + xOffset + \", \" + yOffset + \")\";\n        this.outerRadius = Math.min(this.dims.width, this.dims.height);\n        if (this.labels) {\n            // make room for labels\n            this.outerRadius /= 3;\n        }\n        else {\n            this.outerRadius /= 2;\n        }\n        this.innerRadius = 0;\n        if (this.doughnut) {\n            this.innerRadius = this.outerRadius * (1 - this.arcWidth);\n        }\n        this.domain = this.getDomain();\n        // sort data according to domain\n        this.data = this.results.sort(function (a, b) {\n            return _this.domain.indexOf(a.name) - _this.domain.indexOf(b.name);\n        });\n        this.setColors();\n        this.legendOptions = this.getLegendOptions();\n    };\n    PieChartComponent.prototype.getDomain = function () {\n        var items = [];\n        this.results.map(function (d) {\n            var label = d.name;\n            if (label.constructor.name === 'Date') {\n                label = label.toLocaleDateString();\n            }\n            else {\n                label = label.toLocaleString();\n            }\n            if (items.indexOf(label) === -1) {\n                items.push(label);\n            }\n        });\n        return items;\n    };\n    PieChartComponent.prototype.onClick = function (data) {\n        this.select.emit(data);\n    };\n    PieChartComponent.prototype.setColors = function () {\n        this.colors = new ColorHelper(this.scheme, 'ordinal', this.domain, this.customColors);\n    };\n    PieChartComponent.prototype.getLegendOptions = function () {\n        return {\n            scaleType: 'ordinal',\n            domain: this.domain,\n            colors: this.colors,\n            title: this.legendTitle\n        };\n    };\n    PieChartComponent.prototype.onActivate = function (item) {\n        var idx = this.activeEntries.findIndex(function (d) {\n            return d.name === item.name && d.value === item.value;\n        });\n        if (idx > -1) {\n            return;\n        }\n        this.activeEntries = [item].concat(this.activeEntries);\n        this.activate.emit({ value: item, entries: this.activeEntries });\n    };\n    PieChartComponent.prototype.onDeactivate = function (item) {\n        var idx = this.activeEntries.findIndex(function (d) {\n            return d.name === item.name && d.value === item.value;\n        });\n        this.activeEntries.splice(idx, 1);\n        this.activeEntries = this.activeEntries.slice();\n        this.deactivate.emit({ value: item, entries: this.activeEntries });\n    };\n    return PieChartComponent;\n}(BaseChartComponent));\nexport { PieChartComponent };\n//# sourceMappingURL=pie-chart.component.js.map\n",null]}